<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Welcome again to my blog! This week, I focused on improving the results of corner detections, so that we can use the results to measure the dimensions of the detected object.  Try the demo!As always,">
<meta property="og:type" content="article">
<meta property="og:title" content="Week 4 - Improving Corner Detection Results">
<meta property="og:url" content="https://www.jessexu.me/basis-senior-project/week4/index.html">
<meta property="og:site_name" content="Jesse&#39;s blog">
<meta property="og:description" content="Welcome again to my blog! This week, I focused on improving the results of corner detections, so that we can use the results to measure the dimensions of the detected object.  Try the demo!As always,">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.jessexu.me/img/bigz-senior-project-week4.assets/image-20210513164901397.png">
<meta property="og:image" content="https://www.jessexu.me/img/bigz-senior-project-week4.assets/image-20210513171233499.png">
<meta property="og:image" content="https://www.jessexu.me/img/bigz-senior-project-week4.assets/image-20210518150435858.png">
<meta property="og:image" content="https://www.jessexu.me/img/bigz-senior-project-week4.assets/image-20210518150744957.png">
<meta property="article:published_time" content="2021-05-12T08:56:11.000Z">
<meta property="article:modified_time" content="2021-05-18T08:47:18.000Z">
<meta property="article:author" content="Jesse Xu">
<meta property="article:tag" content="Basis">
<meta property="article:tag" content="Senior Project">
<meta property="article:tag" content="English">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.jessexu.me/img/bigz-senior-project-week4.assets/image-20210513164901397.png">
    
    
      
        
          <link rel="shortcut icon" href="/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/favicon_192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/favicon_apple.png">
        
      
    
    <!-- title -->
    <title>Week 4 - Improving Corner Detection Results</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="Jesse&#39;s blog" type="application/atom+xml" />
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" "Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/Resume">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/basis-senior-project-home/">Senior Project</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post " href="/basis-senior-project/week5/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post " href="/basis-senior-project/week3/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top " href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post " href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.jessexu.me/basis-senior-project/week4/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.jessexu.me/basis-senior-project/week4/&text=Week 4 - Improving Corner Detection Results"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.jessexu.me/basis-senior-project/week4/&is_video=false&description=Week 4 - Improving Corner Detection Results"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Week 4 - Improving Corner Detection Results&body=Check out this article: https://www.jessexu.me/basis-senior-project/week4/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.jessexu.me/basis-senior-project/week4/&name=Week 4 - Improving Corner Detection Results&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.jessexu.me/basis-senior-project/week4/&t=Week 4 - Improving Corner Detection Results"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Try-the-demo"><span class="toc-number">1.</span> <span class="toc-text">Try the demo!</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tweaking-Hough-Line-Transform-parameters"><span class="toc-number">2.</span> <span class="toc-text">Tweaking Hough Line Transform parameters</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tweaking-Corner-Detection-Algorithms"><span class="toc-number">3.</span> <span class="toc-text">Tweaking Corner Detection Algorithms</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary"><span class="toc-number">4.</span> <span class="toc-text">Summary</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Week 4 - Improving Corner Detection Results
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jesse Xu</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-05-12T08:56:11.000Z" itemprop="datePublished">2021-05-12</time>
        
        (Updated: <time datetime="2021-05-18T08:47:18.000Z" itemprop="dateModified">2021-05-18</time>)
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/Basis/" rel="tag">Basis</a>, <a class="tag-link-link" href="/tags/English/" rel="tag">English</a>, <a class="tag-link-link" href="/tags/Senior-Project/" rel="tag">Senior Project</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Welcome again to my blog! This week, I focused on improving the results of corner detections, so that we can use the results to measure the dimensions of the detected object. </p>
<h2 id="Try-the-demo"><a href="#Try-the-demo" class="headerlink" title="Try the demo!"></a>Try the demo!</h2><p>As always, I prepared a demo so that you can intuitively understand what was I doing this week. Here’s the link: <a target="_blank" rel="noopener" href="https://senior-project.jessexu.me/?file_selection=Week+4">https://senior-project.jessexu.me/?file_selection=Week+4</a> </p>
<h2 id="Tweaking-Hough-Line-Transform-parameters"><a href="#Tweaking-Hough-Line-Transform-parameters" class="headerlink" title="Tweaking Hough Line Transform parameters"></a>Tweaking Hough Line Transform parameters</h2><p>To start with, I read through some articles and essays online about Hough Line Transform and got a more thorough understanding of the parameters of Hough Line Transform. I think what causes Hough Line Transform to perform poorly is that the lines aren’t exactly straight, and they are kind of “wiggly” (see image below). </p>
<p><img src="/img/bigz-senior-project-week4.assets/image-20210513164901397.png" alt="lines being wiggly"></p>
<center> The line in the image is not exactly straight </center>

<p>I tried reducing the angle step size (theta of HLT), increasing the minimum length of line detected, and then decreasing the threshold of HLT. This gave me a small improvement, but the lines detected are still fragmented and far from usable. </p>
<p><img src="/img/bigz-senior-project-week4.assets/image-20210513171233499.png" alt="Hough line transform tweaking"></p>
<center> Hough Line Transform result comparison </center>

<h2 id="Tweaking-Corner-Detection-Algorithms"><a href="#Tweaking-Corner-Detection-Algorithms" class="headerlink" title="Tweaking Corner Detection Algorithms"></a>Tweaking Corner Detection Algorithms</h2><p>Based on the results, it looks like Hough Line Transform, although being widely used, does not fit my demand very well. It could also be that my tweaking is not right. Anyways, I decided to try tweaking the corner detection algorithms as introduced in last week’s blog post. </p>
<p>I tried using the two commonly used corner detection algorithms, Harris and Shi-Tomasi, last week. However, they did not produce impressive results either. The points detected tend to cluster on the top left corners of the shapes, and many corners get detected multiple times. </p>
<p>I had no clue how to fix this problem at first, since I don’t see anything that I did wrong compared to tutorials and essays I found online. Then I realized one significant difference between my use case and that of the tutorials - the tutorials mostly use only one shape when detecting corners, while I tried to detect the corners of multiple shapes. </p>
<p>So, I decided to add a function to the program that allows users to crop the images to a single shape, and also added an option to limit the points to be detected by the Shi-Tomasi corner detection function. They turn out to work great together, and the final product is finally usable now! (Hooray!)</p>
<p><img src="/img/bigz-senior-project-week4.assets/image-20210518150435858.png" alt="Image cropping function"></p>
<center> Image cropping function </center>

<p><img src="/img/bigz-senior-project-week4.assets/image-20210518150744957.png" alt="Shi-Tomasi detection result"></p>
<center> Shi-Tomasi Corner Detection Result </center>

<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>This week, I made improvements to the corner detection function to make produce better results. Next week, I will start investigating on a new topic: Camera calibration, which will allow us to convert the number of pixels on image to real world lengths. </p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/Resume">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/basis-senior-project-home/">Senior Project</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Try-the-demo"><span class="toc-number">1.</span> <span class="toc-text">Try the demo!</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tweaking-Hough-Line-Transform-parameters"><span class="toc-number">2.</span> <span class="toc-text">Tweaking Hough Line Transform parameters</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tweaking-Corner-Detection-Algorithms"><span class="toc-number">3.</span> <span class="toc-text">Tweaking Corner Detection Algorithms</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary"><span class="toc-number">4.</span> <span class="toc-text">Summary</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.jessexu.me/basis-senior-project/week4/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.jessexu.me/basis-senior-project/week4/&text=Week 4 - Improving Corner Detection Results"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.jessexu.me/basis-senior-project/week4/&is_video=false&description=Week 4 - Improving Corner Detection Results"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Week 4 - Improving Corner Detection Results&body=Check out this article: https://www.jessexu.me/basis-senior-project/week4/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.jessexu.me/basis-senior-project/week4/&title=Week 4 - Improving Corner Detection Results"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.jessexu.me/basis-senior-project/week4/&name=Week 4 - Improving Corner Detection Results&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.jessexu.me/basis-senior-project/week4/&t=Week 4 - Improving Corner Detection Results"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2018-2024
    Jesse Xu
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/Resume">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/basis-senior-project-home/">Senior Project</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132214073-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-132214073-1');
    </script>

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
